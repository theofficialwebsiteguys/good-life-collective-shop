<!-- Auth Icon (Clickable) -->
<div class="auth-container"
     role="button"
     tabindex="0"
     (click)="toggleAuthTooltip()"
     (keydown.enter)="toggleAuthTooltip()"
     (keydown.space)="toggleAuthTooltip()"
     [attr.aria-expanded]="authTooltipOpen"
     aria-haspopup="true"
     aria-label="User account menu"
     #authIcon>
  <i class="fa-solid fa-user user-icon" [ngStyle]="{'color': iconColor}"></i>
  
  <!-- Tooltip Modal -->
  <div class="auth-tooltip" *ngIf="authTooltipOpen" role="menu" #authTooltip>
    <ng-container *ngIf="isLoggedIn; else notLoggedIn">
      <div class="user-info">
        <p>
          <i class="fa-solid fa-user"></i>
          <strong>{{ userData.fname }} {{ userData.lname }}</strong>
        </p>
        <p>
          <i class="fa-solid fa-envelope"></i> {{ userData.email }}
        </p>
        <p>
          <i class="fa-solid fa-phone"></i> {{ userData.phone }}
        </p>
        <p>
          <i class="fa-solid fa-star"></i> Points: {{ userData.points }}
        </p>
  
        <button *ngIf="isAdmin()" class="admin-button" [routerLink]="'/dashboard'" role="menuitem">
          Admin Dashboard
        </button>
        <button class="logout-button" (click)="logout()" role="menuitem">
          Logout
        </button>
      </div>
    </ng-container>
  
    <!-- Not Logged In State -->
    <ng-template #notLoggedIn>
      <div class="auth-buttons">
        <button class="auth-button" [routerLink]="'/login'" role="menuitem">Login</button>
        <button class="auth-button" [routerLink]="'/register'" role="menuitem">Sign Up</button>
      </div>
    </ng-template>
  </div>
</div>
